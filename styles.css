/* Reset básico */
* { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Arial', sans-serif; }
body { background-color: #f2f2f2; font-size: 1rem; line-height: 1.6; color: #333; }

/* Header (Mantido) */
header { text-align: center; width: 100%; padding: 10px 0 5px 0; background: linear-gradient(to right, #006400, #FFD700); color: #fff; box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2); }
.logo-container { display: flex; justify-content: center; align-items: center; padding: 5px 0; margin-bottom: 5px; }
.logo-background-circle { background-color: white; border-radius: 50%; display: inline-flex; align-items: center; justify-content: center; box-shadow: 0 1px 3px rgba(0,0,0,0.2); width: fit-content; height: fit-content; overflow: hidden; }
.logo { width: 15vw; max-width: 80px; min-width: 45px; height: auto; display: block; padding: 6px; box-sizing: border-box; border-radius: 50%; }
h1 { font-size: 1.6rem; color: #ffffff; margin-top: 0; padding: 0 10px; text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5); }
.header-divider { border: none; border-top: 1px solid rgba(255, 255, 255, 0.3); margin: 0.5rem auto; width: 90%; }

/* Container Principal (Mantido) */
.container { max-width: 95%; margin: 15px auto; padding: 15px; background-color: #fff; border-radius: 8px; box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); }

/* Botões de Ação Superiores (Mantido - já usa Dourado) */
.top-actions { display: flex; justify-content: center; flex-wrap: wrap; gap: 10px; margin-bottom: 25px; }
.top-action-btn { padding: 8px 15px; font-size: 0.9rem; border: none; border-radius: 20px; cursor: pointer; transition: background-color 0.3s, transform 0.1s, box-shadow 0.2s; display: inline-flex; align-items: center; gap: 5px; background-color: #FFD700; color: #333; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); font-weight: 500;}
.top-action-btn i { font-size: 1em; }
.top-action-btn:hover { background-color: #E6C200; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.15); }
.top-action-btn:active { background-color: #D4A600; transform: scale(0.97); box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1); }
.top-action-btn.danger { background-color: #dc3545; color: white; }
.top-action-btn.danger:hover { background-color: #c82333; }
.top-action-btn.danger:active { background-color: #bd2130; }

/* Orçamento, Barra Progresso, Painéis Total/Contagem (Estilos mantidos - Barra já tem gradiente) */
.input-group { margin-bottom: 15px; display: flex; flex-direction: column; align-items: flex-start; gap: 5px; }
label { display: block; margin-bottom: 3px; color: #333; font-size: 0.95rem; font-weight: bold; }
input[type="text"], input[type="number"], select { width: 100%; padding: 10px; border: 1px solid #ccc; border-radius: 5px; font-size: 1.1rem; box-sizing: border-box; transition: border-color 0.3s, box-shadow 0.3s; }
input[type="text"]:focus, input[type="number"]:focus, select:focus { outline: none; border-color: #006400; box-shadow: 0 0 5px rgba(0, 100, 0, 0.3); }
#orcamento { width: 100%; max-width: 180px; font-weight: bold; }
.progress-bar-container { width: 100%; margin-bottom: 15px; position: relative; background-color: #eee; border-radius: 10px; box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1); overflow: hidden; }
#barraProgresso { width: 100%; height: 25px; border-radius: 10px; appearance: none; -webkit-appearance: none; border: none; background-color: transparent; }
#barraProgresso::-webkit-progress-bar { background-color: transparent; border-radius: 10px; }
#barraProgresso::-webkit-progress-value { background: linear-gradient(to right, #006400, #FFD700); background-size: 200% 100%; border-radius: 10px; transition: width 0.4s ease-in-out; box-shadow: inset 0 -1px 1px rgba(0, 0, 0, 0.15); }
#barraProgresso::-moz-progress-bar { background: linear-gradient(to right, #006400, #FFD700); background-size: 200% 100%; border-radius: 10px; transition: width 0.4s ease-in-out; box-shadow: inset 0 -1px 1px rgba(0, 0, 0, 0.15); }
#porcentagemProgresso { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); color: #fff; font-weight: bold; font-size: 0.85rem; text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.6); }
#painelTotal { background-color: #e9f5e9; border: 1px solid #c8e6c9; padding: 15px; margin-bottom: 10px; text-align: center; font-size: 2.5rem; color: #006400; border-radius: 5px; transition: background-color 0.3s; font-weight: bold; }
#painelTotal #totalValorPainel { font-weight: bold; }
#painelContagemItens { background-color: #fff3e0; border: 1px solid #ffe0b2; padding: 10px; margin-bottom: 15px; text-align: center; font-size: 1.1rem; color: #614a1f; border-radius: 5px; font-weight: normal; }
#painelContagemItens span { font-weight: bold; color: #e65100; }

/* --- REFINAMENTOS VISUAIS --- */

/* Entrada por Voz e Filtro (Botões Mic e Ação Aprimorados) */
.input-with-mic { display: flex; align-items: center; width: 100%; gap: 5px; }
.input-with-mic input { flex-grow: 1; min-width: 0; }
.voice-input { position: relative; }
.voice-input-wrapper { display: flex; align-items: center; gap: 8px; width: 100%; }
#vozInput { flex: 1; min-width: 0; }

/* Botões de Ação Comuns (Microfone, Adicionar, Limpar) */
.mic-btn, .action-btn {
    padding: 0; /* Remover padding para controlar tamanho pelo width/height */
    width: 45px; /* Tamanho Fixo */
    height: 45px; /* Tamanho Fixo */
    border: none;
    border-radius: 50%; /* Botões Redondos */
    cursor: pointer;
    transition: background-color 0.3s, transform 0.1s, box-shadow 0.2s;
    display: inline-flex;
    align-items: center;
    justify-content: center; /* Centraliza ícone */
    font-size: 1.1rem; /* Tamanho do ícone */
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.15);
}
.mic-btn:hover, .action-btn:hover {
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    transform: translateY(-1px); /* Leve elevação */
}
.mic-btn:active, .action-btn:active {
    transform: scale(0.95);
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
}

/* Cores específicas para Botões de Ação */
.mic-btn { background-color: #006400; color: white; } /* Verde escuro para microfone */
.mic-btn:hover { background-color: #005000; }
.mic-btn:active { background-color: #004000; }

#inserirItem { background-color: #28a745; color: white; } /* Verde sucesso para adicionar */
#inserirItem:hover { background-color: #218838; }
#inserirItem:active { background-color: #1e7e34; }

#limparInput { background-color: #dc3545; color: white; } /* Vermelho danger para limpar */
#limparInput:hover { background-color: #c82333; }
#limparInput:active { background-color: #bd2130; }

.modal-mic-btn { /* Mantém estilo base, mas pode ajustar se necessário */
    background-color: #006400;
    color: white;
}

/* Feedback de Voz (Mantido) */
.voz-feedback { margin-top: 5px; font-size: 0.9em; padding: 5px 10px; border-radius: 4px; text-align: center; transition: opacity 0.3s; }
.voz-feedback.success { background-color: #d4edda; color: #155724; border: 1px solid #c3e6cb; }
.voz-feedback.error { background-color: #f8d7da; color: #721c24; border: 1px solid #f5c6cb; }
.voz-feedback.info { background-color: #d1ecf1; color: #0c5460; border: 1px solid #bee5eb; }

/* Filtro (Mantido) */
#categoriaFiltro { padding: 10px; font-size: 1.1rem; border-radius: 5px; border: 1px solid #ccc; transition: border-color 0.3s; }
#categoriaFiltro:focus { border-color: #006400; box-shadow: 0 0 5px rgba(0, 100, 0, 0.3); }

/* --- REFINAMENTOS DA LISTA --- */

/* Lista de Compras Container */
#listaComprasContainer h2 {
    margin-top: 25px;
    margin-bottom: 15px; /* Aumenta espaço antes da primeira categoria */
    font-size: 1.3rem;
    color: #333;
    padding-bottom: 5px;
    text-align: center;
}

/* Estilo Moderno para Cabeçalho de Categoria */
.category-header {
    background-color: #005a00; /* Tom de verde um pouco mais escuro */
    color: #fff; /* Texto branco */
    padding: 10px 15px; /* Mais padding */
    margin-top: 20px; /* Mais espaço entre categorias */
    margin-bottom: 8px;
    border-radius: 6px; /* Bordas arredondadas */
    font-weight: bold;
    font-size: 1.15rem;
    /* border-left: none; */ /* Remove borda antiga */
    box-shadow: 0 2px 4px rgba(0, 80, 0, 0.2); /* Sombra sutil verde */
    text-shadow: 1px 1px 1px rgba(0, 0, 0, 0.2); /* Sombra no texto */
    cursor: default;
}
.category-header:first-child {
    margin-top: 0; /* Remove margem do primeiro header */
}

/* Grupo de Categoria (Mantido para controle de visibilidade) */
.category-group {
    transition: opacity 0.3s ease-out, max-height 0.3s ease-out;
    overflow: hidden;
    opacity: 1;
    max-height: 10000px;
}
.category-group.hidden {
    opacity: 0;
    max-height: 0;
    margin-top: 0;
    margin-bottom: 0;
    padding: 0;
    border: none;
}

/* Lista de Itens UL */
#listaCompras { list-style: none; padding: 0; margin: 0; }

/* Item Individual da Lista (LI) Refinado */
#listaCompras li {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 12px 15px; /* Padding ajustado */
    background-color: #fff;
    margin: 8px 0; /* Espaçamento entre itens */
    border-radius: 6px; /* Bordas mais suaves */
    font-size: 1.1rem;
    /* border: none; */ /* Remove borda padrão */
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.08); /* Sombra suave para separação */
    transition: background-color 0.2s, box-shadow 0.2s, transform 0.2s ease-out;
    cursor: pointer;
    position: relative; /* Para animação de exclusão */
}
#listaCompras li:hover {
    background-color: #f8f9fa; /* Leve destaque no hover */
    box-shadow: 0 3px 7px rgba(0, 0, 0, 0.12);
    /* transform: translateY(-1px); */ /* Opcional: leve elevação no hover */
}

/* Estilo SUAVE para item pendente (valor zero) Mantido */
#listaCompras li.item-pendente {
    background-color: #ffebee; /* Fundo vermelho claro */
    /* border-left: 4px solid #e57373; Adiciona borda vermelha para mais destaque */
}
#listaCompras li.item-pendente:hover {
    background-color: #ffcdd2;
}

/* Info do item dentro do LI (Mantido) */
.item-info { display: flex; flex-grow: 1; align-items: center; gap: 10px; flex-wrap: wrap; margin-right: 10px; }
.item-qtd { font-weight: bold; color: #555; min-width: 30px; text-align: right; } /* Garante alinhamento */
.item-desc { flex-grow: 1; min-width: 100px; }
.item-preco { color: #006400; font-weight: bold; white-space: nowrap; font-size: 1em; }
.item-cat { font-size: 0.9em; color: #777; font-style: italic; white-space: nowrap;}

/* Botão de Excluir Refinado */
#listaCompras .excluir-item {
    padding: 0;
    width: 36px; /* Tamanho ajustado */
    height: 36px;
    border-radius: 50%;
    border: none;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: background-color 0.2s, transform 0.1s, box-shadow 0.2s;
    color: white; /* Ícone branco */
    font-size: 1rem;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
    background-color: #28a745; /* VERDE por padrão (item com valor) */
}

/* Estilo para lixeira de item SEM VALOR */
#listaCompras .excluir-item.sem-valor {
    background-color: #dc3545; /* VERMELHO se sem valor */
}

#listaCompras .excluir-item:hover {
    background-color: #218838; /* Verde mais escuro no hover */
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.15);
    transform: scale(1.05); /* Leve aumento */
}
#listaCompras .excluir-item.sem-valor:hover {
    background-color: #c82333; /* Vermelho mais escuro no hover */
    transform: scale(1.05);
}
#listaCompras .excluir-item:active {
    transform: scale(0.95);
    box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.1);
}

/* --- FIM DOS REFINAMENTOS VISUAIS --- */

/* Total Oculto (Mantido) */
.total { display: none; }

/* Modals e Awesomplete (Estilos mantidos, exceto botão verde/gold se necessário) */
.modal { display: none; position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%; overflow: auto; background-color: rgba(0, 0, 0, 0.5); animation: fadeIn 0.3s; }
@keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
.modal-content { background-color: #fefefe; margin: 15% auto; padding: 25px; border: 1px solid #888; width: 90%; max-width: 500px; border-radius: 8px; box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2); position: relative; animation: slideIn 0.3s; }
@keyframes slideIn { from { transform: translateY(-30px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
.fechar-modal { color: #aaa; position: absolute; top: 10px; right: 15px; font-size: 30px; font-weight: bold; cursor: pointer; }
.fechar-modal:hover, .fechar-modal:focus { color: black; text-decoration: none; }

/* Botão Salvar (Verde) */
.button-green {
    background-color: #28a745;
    color: white;
    padding: 10px 20px;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    font-size: 1.1rem;
    transition: background-color 0.3s, transform 0.1s;
    display: block; /* Ocupa largura total no modal */
    width: 100%;
    margin-top: 15px;
}
.button-green:hover { background-color: #218838; }
.button-green:active { transform: scale(0.98); }

/* Modal de Importação Info */
.import-info-modal { /* Mantido */ }
.import-info-content { text-align: center; /* Mantido */ }
.import-info-content p { margin-bottom: 10px; /* Mantido */ }
.import-info-content ul { margin-bottom: 15px; /* Mantido */ }
.import-info-content a { color: #006400; text-decoration: none; /* Mantido */ }
.import-info-content a:hover { text-decoration: underline; /* Mantido */ }

/* Botão Continuar Importação (Dourado) */
#continuarImport, .button-gold { /* Unifica estilo para .button-gold */
    background-color: #FFD700;
    color: #333;
    padding: 10px 20px;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    font-size: 1rem;
    font-weight: 500;
    transition: background-color 0.3s, transform 0.1s, box-shadow 0.2s;
    display: inline-block; /* Não ocupa largura total */
    margin-top: 15px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}
#continuarImport:hover, .button-gold:hover { background-color: #E6C200; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.15); }
#continuarImport:active, .button-gold:active { transform: scale(0.98); background-color: #D4A600; box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1); }

/* Awesomplete (Mantido) */
.awesomplete > ul { position: absolute; background: #fff; border: 1px solid #ccc; border-radius: 0 0 5px 5px; box-shadow: 0 3px 5px rgba(0,0,0,0.1); margin-top: -1px; z-index: 99; width: 100%; }
.awesomplete > ul li { padding: 8px 10px; font-size: 1rem; cursor: pointer; transition: background-color 0.2s; }
.awesomplete > ul li:hover, .awesomplete > ul li[aria-selected="true"] { background-color: #f0f0f0; }
.awesomplete > ul:empty { display: none; }

/* Media Queries (Ajustes menores mantidos e talvez refinados se necessário) */
@media (max-width: 480px) {
    h1 { font-size: 1.4rem; }
    .container { padding: 10px; margin: 10px auto; }
    label { font-size: 0.9rem; }
    input[type="text"], input[type="number"], select { font-size: 1rem; padding: 8px; }
    .top-actions { margin-bottom: 20px; }
    #painelTotal { font-size: 2rem; padding: 10px; }
    #painelContagemItens { font-size: 1rem; padding: 8px; }
    .voice-input-wrapper { gap: 5px; }
    /* Ajustar tamanho dos botões de ação redondos */
    .mic-btn, .action-btn { width: 40px; height: 40px; font-size: 1rem; }
    .top-action-btn { padding: 6px 12px; font-size: 0.8rem; }
    #listaComprasContainer h2 { font-size: 1.2rem; margin-top: 20px;}
    .category-header { font-size: 1rem; padding: 8px 12px;} /* Ajusta padding */
    #listaCompras li { font-size: 1rem; padding: 10px 12px; margin: 6px 0; } /* Ajusta padding */
    .item-info { gap: 6px; }
    .item-cat { font-size: 0.8em;}
    /* Ajustar tamanho da lixeira */
    #listaCompras .excluir-item { width: 32px; height: 32px; font-size: 0.9rem; }
    .modal-content { padding: 20px; margin: 10% auto; width: 95%;} /* Aumenta margem superior */
    .fechar-modal { font-size: 28px; top: 8px; right: 12px; }
    #barraProgresso { height: 20px; }
    #porcentagemProgresso { font-size: 0.75rem; }
    .logo { max-width: 60px; min-width: 40px; padding: 5px;}
}
@media (min-width: 481px) and (max-width: 768px) {
    h1 { font-size: 1.5rem; }
    .container { max-width: 90%; padding: 15px; } /* Reduz um pouco a largura */
    label { font-size: 0.9rem; }
    input[type="text"], input[type="number"], select { font-size: 1.05rem; padding: 10px; }
    .top-actions { margin-bottom: 25px; }
    #painelTotal { font-size: 2.2rem; }
    #painelContagemItens { font-size: 1.05rem; }
    .mic-btn, .action-btn { width: 44px; height: 44px; font-size: 1.1rem; }
    .top-action-btn { padding: 7px 14px; font-size: 0.85rem; }
    #listaComprasContainer h2 { font-size: 1.25rem; }
    .category-header { font-size: 1.05rem; padding: 9px 14px; }
    #listaCompras li { font-size: 1.05rem; padding: 11px 14px; }
    /* Ajustar tamanho da lixeira */
    #listaCompras .excluir-item { width: 34px; height: 34px; font-size: 1rem; }
    .modal-content { max-width: 500px; margin: 12% auto; } /* Ajusta margem */
    .logo { max-width: 70px; min-width: 45px; padding: 6px;}
}